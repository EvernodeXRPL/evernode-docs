<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Hosts - Evernode</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Evernode</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../registry/index.md" class="nav-link">Registry</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Hosts</a>
                            </li>
                            <li class="navitem">
                                <a href="../users/index.md" class="nav-link">Users</a>
                            </li>
                            <li class="navitem">
                                <a href="../purchaser/index.md" class="nav-link">Purchaser</a>
                            </li>
                            <li class="navitem">
                                <a href="../tokenomics/index.md" class="nav-link">Tokenomics</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#hosts" class="nav-link">Hosts</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#registration" class="nav-link">Registration</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#hosting-slices" class="nav-link">Hosting slices</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#hosting-tokens" class="nav-link">Hosting tokens</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#smart-contract-instances" class="nav-link">Smart contract instances</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#installation" class="nav-link">Installation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="hosts">Hosts</h1>
<p>An Evernode host is a Linux server registered on the Evernode <a href="../registry/index.md">Registry</a> via an <a href="https://xrpl.org/accounts.html">XRPL account</a> owned and controlled by the host. The server runs a piece of Evernode software to open up the server hardware resources in a secure manner for Evernode <a href="../users/index.md">Users</a> to host their smart contracts.</p>
<h2 id="registration">Registration</h2>
<p>The host registers on Evernode <a href="../registry/index.md">Registry</a> by paying the <a href="../tokenomics/index.md#regfee">current registration fee</a> with host metadata included in the payment transaction. Host metadata contains information such host server location, hardware resources and <a href="#hosting-tokens">hosting token</a> currency code. The XRPL account used to make the registration payment is considered the <strong>Host Account</strong>. This account's <a href="https://xrpl.org/accounts.html#addresses">address</a> identifies the host within Evernode.</p>
<p>Once the registration fee is paid, Evernode registry issues a <strong>Registration NFT</strong> to the host account. The Registration NFT acts as proof-of-membership of that host within Evernode. The host can sell the NFT back to Evernode Registry for half of current registration fee at a later time. Upon this act, the registry will <strong>deregister</strong> the host from the membership registry.</p>
<h2 id="hosting-slices">Hosting slices</h2>
<p>A host can choose what amount of its total hardware resources (CPU, RAM, Disk space) is allocated for Evernode smart contract hosting. This resource allocation is further divided into a number of equal-sized "slices" chosen by the host. These <strong>hosting slices</strong> correspond to potential smart contract instances users can purchase (1 slice = 1 instance). They are just a numerical division of the host's total allocated hardware resources and are only actually utilized when smart contract instances get materialized as a result of purchase requests sent by users. In essence, the hosting slices are the product, which get sold at the <a href="https://xrpl.org/decentralized-exchange.html">XRPL decentralized exchange</a>, in exchange for <a href="#hosting-tokens">hosting tokens</a>.</p>
<h2 id="hosting-tokens">Hosting tokens</h2>
<p>The host lists hosting tokens at the <a href="https://xrpl.org/decentralized-exchange.html">XRPL decentralized exchange</a> (dex) at a price if its choosing. Hosting tokens are <a href="https://xrpl.org/tokens.html">XRPL tokens</a> that are issued from the <strong>Host Account</strong> and is priced in Evers. They are indivisible and always represented as positive whole numbers. Users discover the hosting tokens from a particular host on the dex by checking the host account address and hosting token currency code recorded in the registry. Owning hosting tokens DOES NOT mean owning a smart contract instance. It simply means the right to request the host to provision an instance.</p>
<p><strong>1 hosting token corresponds to the right to utilize 1 hosting slice for 1 Moment</strong></p>
<h2 id="smart-contract-instances">Smart contract instances</h2>
<p>After purchasing hosting tokens for a particular host from the dex (or by any other means), users can <strong>Redeem</strong> one or more of the tokens in exchange for a smart contract instance. This is performed as a <a href="https://xrpl.org/cross-currency-payments.html">XRPL token payment</a> from user's XRPL account to the Host Account. If there are unutilized hosting slices, the host provisions a default contract instance on one of them. If no free slice was available, host refunds the token payment with an error code.</p>
<p>When a contract instance get created, it is assigned a unique <strong>instance name</strong>. This is a <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a> which can be used to identify an instance within the host. This, along with other instance details such as communication port numbers and domain/ip addresses are returned back to the user who redeemed the hosting tokens.</p>
<p>The amount of hosting token that was "redeemed" defines the lifespan of the provisioned contract instance (1 token = 1 Moment of run time). After the run time "expires", the host deletes the instance and that hosting slice becomes available for future redeems again. The contract instance could be kept alive by redeeming more hosting tokens tagged with the <strong>instance name</strong> before the instance expires.</p>
<p><a href="sashimono/">Sashimono</a> is the software which manages the contract instances on the host. It is capable of listening to incoming redeem requests from Evernode users on the host's XRPL account and appropriately provisioning contract instances. It uses <a href="https://www.docker.com">Docker</a> to isolate contract instances from each other.</p>
<p><img alt="Instance creation" src="../img/host-redeem.png" /></p>
<p>After the user receives the instance details, direct communication with the instance can be initiated without going through XRP Ledger or Sashimono.</p>
<p><img alt="Instance communication" src="../img/host-instance-communication.png" /></p>
<p>To learn more about communicating with a contract instance, see <a href="../hot-pocket/">Hot Pocket</a></p>
<h2 id="installation">Installation</h2>
<p><a href="setup/">Evernode setup</a> makes the entire process of registering and participating as an Evernode host a hassle free experience. With a guided set of steps, it can automatically register a Linux host on Evernode registry and serve incoming Redeem requests from users. It also installs the ncessary tools for the host administrator to manage the contract instances that have been provisioned on the host.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
